<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="google" content="notranslate">
    <title>Shopper Profile - LocalMarket</title>
   
    <link href="../../style.css" rel="stylesheet">
  </head>
  <body>

    <!-- Fixed Top Header -->
    <header class="top-header">
      <div class="header-wordmark">
        <img src="../../text.png" alt="Local Market Wordmark" loading="lazy" class="wordmark-img">
      </div>
      <nav class="header-nav" aria-label="Main navigation">
        <a href="../../home/index.html" class="link" data-testid="desktop-nav-home">Home</a>
        <a href="../../index.html" class="link" data-testid="desktop-nav-discovery">Discover</a>
        <a href="../../discussions/categories/local-discussions/index.html" class="link" data-testid="desktop-nav-community">Community</a>
        <a href="../../cart/index.html" class="link" data-testid="desktop-nav-cart">
          <i>shopping_cart</i>
          <span>Cart</span>
        </a>
      </nav>
      <!-- Right side: Logo and hamburger menu -->
      <div class="header-right">
        <!-- Site Logo -->
        <a href="../../index.html" class="site-logo">
          <img src="../../Logo 333.png" alt="LocalMarket Logo" loading="lazy">
        </a>
        <a href="#" class="header-profile" onclick="toggleProfileType(event); return false;" data-testid="desktop-nav-profile" aria-label="User profile">
          <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=60&h=60&fit=crop&crop=face" alt="Profile" loading="lazy" class="circle small">
        </a>
        <!-- Profile Menu Button -->
        <button type="button" class="feed-menu-btn" aria-label="Profile menu" aria-expanded="false" aria-controls="profileMenu" onclick="toggleHamburgerMenu()" data-testid="hamburger-menu-btn">
          <i>menu</i>
          <menu class="feed-menu-dropdown" id="profileMenu" role="menu">
            <li role="menuitem">
              <a href="#" class="menu-item" onclick="toggleHamburgerMenu(); return false;">Menu</a>
            </li>
          </menu>
        </button>
      </div>
    </header>

    <!-- Hamburger Menu Overlay -->
    <div id="hamburger-menu-overlay" onclick="toggleHamburgerMenu()" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0, 0, 0, 0.5); z-index: 1002; transition: opacity 0.3s ease;"></div>
    
    <!-- Hamburger Menu Sidebar -->
    <div id="hamburger-menu" style="position: fixed; top: 0; right: -240px; width: 240px; height: 100vh; background-color: var(--surface-container); z-index: 1003; transition: right 0.3s ease; overflow-y: auto; box-shadow: -2px 0 8px rgba(0, 0, 0, 0.3);">
      <div style="padding: 1rem;">
        <button class="circle transparent small" onclick="toggleHamburgerMenu()" style="float: right; margin: 0;">
          <i>close</i>
        </button>
        <div style="clear: both; margin-bottom: 0.5rem;"></div>
        
        <!-- Menu Items -->
        <a href="./" style="display: flex; align-items: center; padding: 0.5rem 0; text-decoration: none; color: var(--on-surface);">
          <i style="margin-right: 0.5rem; font-size: 1.2rem;">store</i>
          <span style="font-size: 0.9rem;">Vendor Profile</span>
        </a>
        
        <a href="../personal-settings/" style="display: flex; align-items: center; padding: 0.5rem 0; text-decoration: none; color: var(--on-surface);">
          <i style="margin-right: 0.5rem; font-size: 1.2rem;">settings</i>
          <span style="font-size: 0.9rem;">Settings</span>
        </a>
        
        <a href="#" onclick="logout(); return false;" style="display: flex; align-items: center; padding: 0.5rem 0; text-decoration: none; color: var(--on-surface);">
          <i style="margin-right: 0.5rem; font-size: 1.2rem;">logout</i>
          <span style="font-size: 0.9rem;">Log Out</span>
        </a>
      </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
      <a href="../../home/index.html" class="nav-item" data-testid="nav-home">
        <i>home</i>
      </a>
      <a href="../../index.html" class="nav-item" data-testid="nav-search">
        <i>search</i>
      </a>
      <a href="../../discussions/categories/local-discussions/index.html" class="nav-item" data-testid="nav-discussions">
        <i>groups</i>
      </a>
      <a href="../../cart/index.html" class="nav-item" data-testid="nav-cart">
        <i>shopping_cart</i>
      </a>
      <a href="shopper/" class="nav-item active" data-testid="nav-profile">
        <i>person</i>
      </a>
    </nav>

    <main class="responsive" style="padding-bottom: 70px;">
        <!-- Shopper Profile Hero Section -->
        <section id="home" class="margin-bottom-large">
            <div class="card surface-container margin-horizontal-small" style="border-radius: 12px; padding: 1rem; position: relative; z-index: 2; margin-top: 1rem;">
                <div class="container">
                    <div class="row">
                        <div class="col s12">
                            <div class="row no-gap middle-align">
                                <div class="col s12 m6">
                                    <div class="row no-gap middle-align">
                                        <div class="col s2">
                                            <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop&crop=face" class="circle small">
                                        </div>
                                        <div class="col s10">
                                            <h2 class="left-align">Sarah Johnson</h2>
                                        </div>
                                    </div>
                                    <p class="text-left text-grey">Local food enthusiast and craft beer lover</p>
                                    
                                    <div class="row no-gap middle-align margin-top-small">
                                        <div class="col s6">
                                            <a href="../following/" style="text-decoration: none; color: inherit; display: block;">
                                                <div class="text-left" style="cursor: pointer; transition: opacity 0.2s;" onmouseover="this.style.opacity='0.7'" onmouseout="this.style.opacity='1'">
                                                    <span class="text-bold text-large">24</span>
                                                    <div class="text-small text-grey">Following</div>
                                                </div>
                                            </a>
                                        </div>
                                        <div class="col s6">
                                            <div class="row no-gap right-align">
                                                <a href="../messages/" style="text-decoration: none; color: inherit;">
                                                    <button class="btn tiny primary border circle" data-testid="message-btn">
                                                        <i>mail</i>
                                                    </button>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Dashboard Section -->
        <section id="dashboard" class="padding-vertical-large">
            <div class="container">
                <div class="row no-gap margin-bottom-large">
                    <div class="col s12">
                        <h3>Dashboard</h3>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col s12">
                        <ul class="list border max no-margin">
                            <li>
                                <a href="../saved-products/" class="row middle-align no-space max">
                                    <i class="material-icons primary-text" aria-hidden="true">favorite</i>
                                    <div class="max">
                                        <div class="bold">Saved Products</div>
                                        <div class="small-text text-grey">12 items</div>
                                    </div>
                                    <i class="material-icons text-grey" aria-hidden="true">chevron_right</i>
                                </a>
                            </li>
                            <li>
                                <a href="../my-orders/" class="row middle-align no-space max">
                                    <i class="material-icons primary-text" aria-hidden="true">shopping_bag</i>
                                    <div class="max">
                                        <div class="bold">My Orders</div>
                                        <div class="small-text text-grey">8 orders</div>
                                    </div>
                                    <i class="material-icons text-grey" aria-hidden="true">chevron_right</i>
                                </a>
                            </li>
                            <li>
                                <a href="../groups/" class="row middle-align no-space max">
                                    <i class="material-icons primary-text" aria-hidden="true">groups</i>
                                    <div class="max">
                                        <div class="bold">Groups</div>
                                        <div class="small-text text-grey">5 groups</div>
                                    </div>
                                    <i class="material-icons text-grey" aria-hidden="true">chevron_right</i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Latest Discussions Section -->
        <section id="discussions" class="padding-vertical-large surface-container-low">
            <div class="container">
                <div class="row">
                    <div class="col s12">
                        <h3>Latest Discussions</h3>
                    </div>
                </div>
            </div>
            
            <div class="container">
                <div class="row">
                    <div class="col s12">
                        <div class="feed-container">
                            <!-- Discussion Card 1 -->
                            <div class="card small">
                                    <div class="card-header-row">
                                        <div class="row no-gap top-align max">
                                        <div class="col s2">
                                            <img src="https://www.beercss.com/favicon.png" class="circle small" loading="lazy">
                                        </div>
                                        <div class="col s10">
                                            <h5 class="card-title">Sarah Johnson</h5>
                                            <div class="card-meta">
                                                <span>2 hours ago</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-divider"></div>
                                <div class="card-image">
                                    <img src="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=600&h=300&fit=crop" 
                                         alt="Discussion Topic" class="responsive round medium-height" loading="lazy">
                                </div>
                                <div class="card-divider"></div>
                                <div class="card-content left-align">
                                    <p>Has anyone tried the new IPA from Brewery Central? Looking for recommendations on what to pair it with. Thinking about making some grilled salmon tonight! üç∫</p>
                                </div>
                                <div class="card-divider"></div>
                                <div class="card-footer">
                                    <div class="row no-gap">
                                        <div class="col s6">
                                            <div class="clickable-container" onclick="toggleLike(this)" data-testid="discussion-like-btn">
                                                <i class="material-icons">favorite_border</i>
                                                <span class="like-text">Like</span>
                                                <span class="like-count">15</span>
                                            </div>
                                        </div>
                                        <div class="col s6">
                                            <div class="clickable-container" onclick="toggleComments(this)" data-testid="discussion-comment-btn">
                                                <i class="material-icons">chat_bubble_outline</i>
                                                <span class="comment-text">Comment</span>
                                                <span class="comment-count">6</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="comments-section" style="display: none;">
                                    <div class="comments-list">
                                        <div class="comment-item">
                                            <div class="row no-gap">
                                                <div class="col s2">
                                                    <img src="https://www.beercss.com/favicon.png" class="circle extra-small" loading="lazy">
                                                </div>
                                                <div class="col s10">
                                                    <strong>BeerLover42</strong>
                                                    <p>Grilled salmon sounds perfect! Try adding some lemon and herbs.</p>
                                                    <small class="text-grey">1 hour ago</small>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="comment-item">
                                            <div class="row no-gap">
                                                <div class="col s2">
                                                    <img src="https://www.beercss.com/favicon.png" class="circle extra-small" loading="lazy">
                                                </div>
                                                <div class="col s10">
                                                    <strong>HopHead</strong>
                                                    <p>That IPA pairs great with spicy foods too!</p>
                                                    <small class="text-grey">45 minutes ago</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="add-comment">
                                        <div class="row no-gap">
                                            <div class="col s2">
                                                <img src="https://www.beercss.com/favicon.png" class="circle extra-small" loading="lazy">
                                            </div>
                                            <div class="col s10">
                                                <form hx-post="/api/comments/1" hx-target=".comments-list" hx-swap="beforeend">
                                                    <div class="input-field">
                                                        <input type="text" name="comment" class="comment-input" placeholder="Write a comment..." required data-testid="discussion-comment-input">
                                                        <button type="submit" class="btn small" data-testid="discussion-comment-submit">Post</button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Discussion Card 2 -->
                            <div class="card small">
                                    <div class="card-header-row">
                                        <div class="row no-gap top-align max">
                                        <div class="col s2">
                                            <img src="https://www.beercss.com/favicon.png" class="circle small" loading="lazy">
                                        </div>
                                        <div class="col s10">
                                            <h5 class="card-title">Sarah Johnson</h5>
                                            <div class="card-meta">
                                                <span>1 day ago</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-divider"></div>
                                <div class="card-image">
                                    <img src="https://images.unsplash.com/photo-1571613316887-6f8d5cbf7ef7?w=600&h=300&fit=crop" 
                                         alt="Discussion Topic" class="responsive round medium-height" loading="lazy">
                                </div>
                                <div class="card-divider"></div>
                                <div class="card-content left-align">
                                    <p>Looking for recommendations on local farmers markets in the area. Which ones have the best organic produce? Planning my weekend shopping! ü•¨</p>
                                </div>
                                <div class="card-divider"></div>
                                <div class="card-footer">
                                    <div class="row no-gap">
                                        <div class="col s6">
                                            <div class="clickable-container" onclick="toggleLike(this)" data-testid="discussion-like-btn-2">
                                                <i class="material-icons">favorite_border</i>
                                                <span class="like-text">Like</span>
                                                <span class="like-count">22</span>
                                            </div>
                                        </div>
                                        <div class="col s6">
                                            <div class="clickable-container" onclick="toggleComments(this)" data-testid="discussion-comment-btn-2">
                                                <i class="material-icons">chat_bubble_outline</i>
                                                <span class="comment-text">Comment</span>
                                                <span class="comment-count">9</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="comments-section" style="display: none;">
                                    <div class="comments-list">
                                        <div class="comment-item">
                                            <div class="row no-gap">
                                                <div class="col s2">
                                                    <img src="https://www.beercss.com/favicon.png" class="circle extra-small" loading="lazy">
                                                </div>
                                                <div class="col s10">
                                                    <strong>FarmFresh</strong>
                                                    <p>The downtown market on Saturdays is amazing!</p>
                                                    <small class="text-grey">3 hours ago</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="add-comment">
                                        <div class="row no-gap">
                                            <div class="col s2">
                                                <img src="https://www.beercss.com/favicon.png" class="circle extra-small" loading="lazy">
                                            </div>
                                            <div class="col s10">
                                                <form hx-post="/api/comments/2" hx-target=".comments-list" hx-swap="beforeend">
                                                    <div class="input-field">
                                                        <input type="text" name="comment" class="comment-input" placeholder="Write a comment..." required data-testid="discussion-comment-input-2">
                                                        <button type="submit" class="btn small" data-testid="discussion-comment-submit-2">Post</button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Discussion Card 3 -->
                            <div class="card small">
                                    <div class="card-header-row">
                                        <div class="row no-gap top-align max">
                                        <div class="col s2">
                                            <img src="https://www.beercss.com/favicon.png" class="circle small" loading="lazy">
                                        </div>
                                        <div class="col s10">
                                            <h5 class="card-title">Sarah Johnson</h5>
                                            <div class="card-meta">
                                                <span>3 days ago</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-divider"></div>
                                <div class="card-image">
                                    <img src="https://images.unsplash.com/photo-1581636625402-29b2a704ef13?w=600&h=300&fit=crop" 
                                         alt="Discussion Topic" class="responsive round medium-height" loading="lazy">
                                </div>
                                <div class="card-divider"></div>
                                <div class="card-content left-align">
                                    <p>Has anyone been to the new craft beer festival downtown? Thinking about going this weekend. Would love to meet up with fellow beer enthusiasts! üçª</p>
                                </div>
                                <div class="card-divider"></div>
                                <div class="card-footer">
                                    <div class="row no-gap">
                                        <div class="col s6">
                                            <div class="clickable-container" onclick="toggleLike(this)" data-testid="discussion-like-btn-3">
                                                <i class="material-icons">favorite_border</i>
                                                <span class="like-text">Like</span>
                                                <span class="like-count">18</span>
                                            </div>
                                        </div>
                                        <div class="col s6">
                                            <div class="clickable-container" onclick="toggleComments(this)" data-testid="discussion-comment-btn-3">
                                                <i class="material-icons">chat_bubble_outline</i>
                                                <span class="comment-text">Comment</span>
                                                <span class="comment-count">7</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="comments-section" style="display: none;">
                                    <div class="comments-list">
                                        <div class="comment-item">
                                            <div class="row no-gap">
                                                <div class="col s2">
                                                    <img src="https://www.beercss.com/favicon.png" class="circle extra-small" loading="lazy">
                                                </div>
                                                <div class="col s10">
                                                    <strong>BeerFestFan</strong>
                                                    <p>Went last weekend! It was incredible, definitely worth going!</p>
                                                    <small class="text-grey">1 day ago</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="add-comment">
                                        <div class="row no-gap">
                                            <div class="col s2">
                                                <img src="https://www.beercss.com/favicon.png" class="circle extra-small" loading="lazy">
                                            </div>
                                            <div class="col s10">
                                                <form hx-post="/api/comments/3" hx-target=".comments-list" hx-swap="beforeend">
                                                    <div class="input-field">
                                                        <input type="text" name="comment" class="comment-input" placeholder="Write a comment..." required data-testid="discussion-comment-input-3">
                                                        <button type="submit" class="btn small" data-testid="discussion-comment-submit-3">Post</button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- See All Link -->
                            <div style="text-align: center; margin-top: 1.5rem; margin-bottom: 1rem;">
                                <a href="../../discussions/categories/local-discussions/index.html" style="color: var(--primary); text-decoration: none; font-size: 0.9rem; font-weight: 500;">see all</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script type="module" src="https://cdn.jsdelivr.net/npm/beercss@3.12.13/dist/cdn/beer.min.js"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/material-dynamic-colors@1.1.2/dist/cdn/material-dynamic-colors.min.js"></script>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <script>
      // Theme Toggle Functionality
      (function() {
        // Get stored theme or default to light
        const storedTheme = localStorage.getItem('theme') || 'light';
        
        // Apply theme on page load
        document.body.classList.remove('dark', 'light');
        document.body.classList.add(storedTheme);
        
        // Create toggle button
        const toggleButton = document.createElement('button');
        toggleButton.className = 'theme-toggle circle';
        toggleButton.setAttribute('aria-label', 'Toggle theme');
        toggleButton.innerHTML = '<i>' + (storedTheme === 'light' ? 'dark_mode' : 'light_mode') + '</i>';
        
        // Add click handler
        toggleButton.addEventListener('click', function() {
          const currentTheme = document.body.classList.contains('dark') ? 'dark' : 'light';
          const newTheme = currentTheme === 'light' ? 'dark' : 'light';
          
          document.body.classList.remove('dark', 'light');
          document.body.classList.add(newTheme);
          localStorage.setItem('theme', newTheme);
          
          toggleButton.querySelector('i').textContent = newTheme === 'light' ? 'dark_mode' : 'light_mode';
        });
        
        document.body.appendChild(toggleButton);
      })();

      // Toggle like button
      function toggleLike(button) {
          const heartIcon = button.querySelector('.material-icons');
          const likeCountSpan = button.querySelector('.like-count');
          const currentCount = parseInt(likeCountSpan.textContent);
          
          if (heartIcon.textContent === 'favorite_border') {
              // Like the post
              heartIcon.textContent = 'favorite';
              button.classList.add('liked');
              likeCountSpan.textContent = currentCount + 1;
          } else {
              // Unlike the post
              heartIcon.textContent = 'favorite_border';
              button.classList.remove('liked');
              likeCountSpan.textContent = currentCount - 1;
          }
      }

      // Toggle comments dropdown
      function toggleComments(button) {
          const card = button.closest('.card');
          const commentsSection = card.querySelector('.comments-section');
          
          if (commentsSection.style.display === 'none') {
              commentsSection.style.display = 'block';
          } else {
              commentsSection.style.display = 'none';
          }
      }

      // Profile Type Toggle Functionality
      function toggleProfileType(event) {
        // Only work in desktop mode (screen width > 768px)
        if (window.innerWidth <= 768) {
          return;
        }
        
        event.preventDefault();
        
        // Get current page pathname
        const currentPath = window.location.pathname;
        
        // Check if we're on the shopper profile page
        const isShopperProfile = currentPath.includes('/shopper/') || currentPath.endsWith('/shopper');
        
        // Toggle to the other profile type
        if (isShopperProfile) {
          // Currently on shopper profile, switch to vendor profile
          window.location.href = '../';
        } else {
          // Currently on vendor profile, switch to shopper profile
          window.location.href = 'shopper/';
        }
      }

      // Hamburger Menu Functions
      function toggleHamburgerMenu() {
          const menu = document.getElementById('hamburger-menu');
          const overlay = document.getElementById('hamburger-menu-overlay');
          
          if (menu.style.right === '0px') {
              // Close menu - slide out
              menu.style.right = '-240px';
              overlay.style.display = 'none';
          } else {
              // Open menu - slide in
              menu.style.right = '0px';
              overlay.style.display = 'block';
          }
      }

      function logout() {
          if (confirm('Are you sure you want to log out?')) {
              // In real implementation, this would clear session and redirect
              alert('Logged out successfully');
              window.location.href = '.././';
          }
          toggleHamburgerMenu();
      }
    </script>
  </body>
</html>

