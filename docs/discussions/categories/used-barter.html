<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="google" content="notranslate">
    <title>Used/Barter - Buy, Sell, Trade</title>
    <link href="../../style.css" rel="stylesheet">
  </head>
  <body class="dark">

    <!-- Fixed Top Header -->
    <div class="top-header">
      <div style="display: flex; align-items: center; gap: 0.5rem;">
        <!-- Left side empty for now -->
      </div>
      <!-- Right side: Logo and hamburger menu -->
      <div class="header-right">
        <!-- Site Logo -->
        <a href="../../index.html" class="site-logo">
          <img src="../../Logo 333.png" alt="LocalMarket Logo">
        </a>
        <!-- Mobile Hamburger Menu Button -->
        <div class="mobile-menu-btn" onclick="toggleMobileMenu()">
          <i>menu</i>
        </div>
      </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
      <a href="../../home/index.html" class="nav-item" data-testid="nav-home">
        <i>home</i>
      </a>
      <a href="../../index.html" class="nav-item" data-testid="nav-search">
        <i>search</i>
      </a>
      <a href="#" class="nav-item active" data-testid="nav-discussions">
        <i>groups</i>
      </a>
      <a href="../../../cart/index.html" class="nav-item" data-testid="nav-cart">
        <i>shopping_cart</i>
      </a>
      <a href="../../userprofile/index.html" class="nav-item" data-testid="nav-profile">
        <i>person</i>
      </a>
    </nav>

    <!-- Mobile Categories Overlay -->
    <div class="mobile-categories-overlay" id="mobileCategoriesOverlay">
      <div class="mobile-categories-content">
        <div class="mobile-categories-header">
          <h5>Categories</h5>
        </div>
        <div class="mobile-categories-list" id="mobileCategoriesList">
          <!-- Local Section -->
          <div class="section-header">
            <h6>Local</h6>
          </div>

          <a href="local-discussions.html" class="category-item">
            <h6>Discussions</h6>
            <p>General community conversations and local topics</p>
          </a>

          <a href="local-groups.html" class="category-item">
            <h6>Groups</h6>
            <p>Community groups, clubs, and organizations</p>
          </a>

          <a href="used-barter.html" class="category-item">
            <h6>Used/Barter</h6>
            <p>Buy, sell, trade, and barter items locally</p>
          </a>

          <!-- General Section -->
          <div class="section-header">
            <h6>General</h6>
          </div>

          <a href="food-farm-news.html" class="category-item">
            <h6>Food & Farm News</h6>
            <p>Local food, farming, and agricultural updates</p>
          </a>

          <a href="tips-resources.html" class="category-item">
            <h6>Tips & Resources</h6>
            <p>Helpful tips, guides, and local resources</p>
          </a>
        </div>
      </div>
    </div>

    <main class="responsive">
      <div class="container">
        <div class="row">
          <!-- Main Content Column (2/3 on desktop) -->
          <div class="col s12 m8 l8 main-content">
            <h4>Used/Barter</h4>
            <p class="category-description">Buy, sell, trade, and barter items locally</p>
            <div class="feed-container">
              
              <!-- Post Card 1 -->
              <div class="card medium">
                <div class="card-header">
                  <div class="row no-gap">
                    <div class="col s2">
                      <img src="https://www.beercss.com/favicon.png" class="circle small">
                    </div>
                    <div class="col s8">
                      <h6>John D.</h6>
                      <small class="text-grey">4 hours ago</small>
                    </div>
                    <div class="col s2 right-align">
                      <button data-ui="#post-menu-barter-1" class="circle transparent small">
                        <i>more_vert</i>
                      </button>
                      <menu id="post-menu-barter-1">
                        <li><a href="#" onclick="openReportDialog('post', 'barter-bike-post'); return false;">Report</a></li>
                      </menu>
                    </div>
                  </div>
                </div>
                <div class="card-content center-align">
                  <img src="https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400&h=300&fit=crop" class="responsive round medium-height">
                  <p>FOR SALE: Vintage wooden dining table, seats 6. Great condition, asking $150 or trade for garden tools. Pickup only. 📦</p>
                </div>
                <div class="card-footer">
                  <div class="row no-gap">
                    <div class="col s6">
                      <div class="clickable-container" 
                           onclick="toggleLike(this)">
                        <i class="material-icons">favorite_border</i>
                        <span class="like-text">Like</span>
                        <span class="like-count">8</span>
                      </div>
                    </div>
                    <div class="col s6">
                      <div class="clickable-container" 
                           onclick="toggleComments(this)">
                        <i class="material-icons">chat_bubble_outline</i>
                        <span class="comment-text">Comment</span>
                        <span class="comment-count">3</span>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- Comments Section -->
                <div class="comments-section" style="display: none;">
                  <div class="comments-list">
                    <div class="comment-item">
                      <div class="row no-gap">
                        <div class="col s2">
                          <img src="https://www.beercss.com/favicon.png" class="circle extra-small">
                        </div>
                        <div class="col s10">
                          <strong>Commenter</strong>
                          <p>Great post! Thanks for sharing.</p>
                          <small class="text-grey">1 hour ago</small>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Add Comment Form -->
                  <div class="add-comment">
                    <div class="row no-gap">
                      <div class="col s2">
                        <img src="https://www.beercss.com/favicon.png" class="circle extra-small">
                      </div>
                      <div class="col s10">
                        <form hx-post="/api/comments/1" hx-target=".comments-list" hx-swap="beforeend">
                          <div class="input-field">
                            <input type="text" name="comment" class="comment-input" placeholder="Write a comment..." required>
                            <button type="submit" class="btn small">Post</button>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Post Card 2 -->
              <div class="card medium">
                <div class="card-header">
                  <div class="row no-gap">
                    <div class="col s2">
                      <img src="https://www.beercss.com/favicon.png" class="circle small">
                    </div>
                    <div class="col s8">
                      <h6>Maria S.</h6>
                      <small class="text-grey">1 day ago</small>
                    </div>
                    <div class="col s2 right-align">
                      <button data-ui="#post-menu-barter-2" class="circle transparent small">
                        <i>more_vert</i>
                      </button>
                      <menu id="post-menu-barter-2">
                        <li><a href="#" onclick="openReportDialog('post', 'barter-eggs-post'); return false;">Report</a></li>
                      </menu>
                    </div>
                  </div>
                </div>
                <div class="card-content center-align">
                  <p>TRADE: I have fresh eggs from my backyard chickens. Looking to trade for fresh vegetables or homemade bread. 2 dozen available! 🥚</p>
                </div>
                <div class="card-footer">
                  <div class="row no-gap">
                    <div class="col s6">
                      <div class="clickable-container" 
                           onclick="toggleLike(this)">
                        <i class="material-icons">favorite_border</i>
                        <span class="like-text">Like</span>
                        <span class="like-count">15</span>
                      </div>
                    </div>
                    <div class="col s6">
                      <div class="clickable-container" 
                           onclick="toggleComments(this)">
                        <i class="material-icons">chat_bubble_outline</i>
                        <span class="comment-text">Comment</span>
                        <span class="comment-count">7</span>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- Comments Section -->
                <div class="comments-section" style="display: none;">
                  <div class="comments-list">
                    <div class="comment-item">
                      <div class="row no-gap">
                        <div class="col s2">
                          <img src="https://www.beercss.com/favicon.png" class="circle extra-small">
                        </div>
                        <div class="col s10">
                          <strong>Commenter</strong>
                          <p>Great post! Thanks for sharing.</p>
                          <small class="text-grey">1 hour ago</small>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Add Comment Form -->
                  <div class="add-comment">
                    <div class="row no-gap">
                      <div class="col s2">
                        <img src="https://www.beercss.com/favicon.png" class="circle extra-small">
                      </div>
                      <div class="col s10">
                        <form hx-post="/api/comments/1" hx-target=".comments-list" hx-swap="beforeend">
                          <div class="input-field">
                            <input type="text" name="comment" class="comment-input" placeholder="Write a comment..." required>
                            <button type="submit" class="btn small">Post</button>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Post Card 3 -->
              <div class="card medium">
                <div class="card-header">
                  <div class="row no-gap">
                    <div class="col s2">
                      <img src="https://www.beercss.com/favicon.png" class="circle small">
                    </div>
                    <div class="col s8">
                      <h6>Robert L.</h6>
                      <small class="text-grey">5 hours ago</small>
                    </div>
                    <div class="col s2 right-align">
                      <button data-ui="#post-menu-barter-3" class="circle transparent small">
                        <i>more_vert</i>
                      </button>
                      <menu id="post-menu-barter-3">
                        <li><a href="#" onclick="openReportDialog('post', 'barter-table-post'); return false;">Report</a></li>
                      </menu>
                    </div>
                  </div>
                </div>
                <div class="card-content center-align">
                  <img src="https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400&h=300&fit=crop" class="responsive round medium-height">
                  <p>FOR SALE: Vintage wooden dining table, seats 6. Great condition, asking $150 or trade for garden tools. Pickup only. 📦</p>
                </div>
                <div class="card-footer">
                  <div class="row no-gap">
                    <div class="col s6">
                      <div class="clickable-container" 
                           onclick="toggleLike(this)">
                        <i class="material-icons">favorite_border</i>
                        <span class="like-text">Like</span>
                        <span class="like-count">8</span>
                      </div>
                    </div>
                    <div class="col s6">
                      <div class="clickable-container" 
                           onclick="toggleComments(this)">
                        <i class="material-icons">chat_bubble_outline</i>
                        <span class="comment-text">Comment</span>
                        <span class="comment-count">3</span>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- Comments Section -->
                <div class="comments-section" style="display: none;">
                  <div class="comments-list">
                    <div class="comment-item">
                      <div class="row no-gap">
                        <div class="col s2">
                          <img src="https://www.beercss.com/favicon.png" class="circle extra-small">
                        </div>
                        <div class="col s10">
                          <strong>Commenter</strong>
                          <p>Great post! Thanks for sharing.</p>
                          <small class="text-grey">1 hour ago</small>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Add Comment Form -->
                  <div class="add-comment">
                    <div class="row no-gap">
                      <div class="col s2">
                        <img src="https://www.beercss.com/favicon.png" class="circle extra-small">
                      </div>
                      <div class="col s10">
                        <form hx-post="/api/comments/1" hx-target=".comments-list" hx-swap="beforeend">
                          <div class="input-field">
                            <input type="text" name="comment" class="comment-input" placeholder="Write a comment..." required>
                            <button type="submit" class="btn small">Post</button>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Post Card 4 -->
              <div class="card medium">
                <div class="card-header">
                  <div class="row no-gap">
                    <div class="col s2">
                      <img src="https://www.beercss.com/favicon.png" class="circle small">
                    </div>
                    <div class="col s8">
                      <h6>Sarah K.</h6>
                      <small class="text-grey">1 day ago</small>
                    </div>
                    <div class="col s2 right-align">
                      <button data-ui="#post-menu-barter-4" class="circle transparent small">
                        <i>more_vert</i>
                      </button>
                      <menu id="post-menu-barter-4">
                        <li><a href="#" onclick="openReportDialog('post', 'barter-4'); return false;">Report</a></li>
                      </menu>
                    </div>
                  </div>
                </div>
                <div class="card-content center-align">
                  <p>TRADE: I have fresh eggs from my backyard chickens. Looking to trade for fresh vegetables or homemade bread. 2 dozen available! 🥚</p>
                </div>
                <div class="card-footer">
                  <div class="row no-gap">
                    <div class="col s6">
                      <div class="clickable-container" 
                           onclick="toggleLike(this)">
                        <i class="material-icons">favorite_border</i>
                        <span class="like-text">Like</span>
                        <span class="like-count">15</span>
                      </div>
                    </div>
                    <div class="col s6">
                      <div class="clickable-container" 
                           onclick="toggleComments(this)">
                        <i class="material-icons">chat_bubble_outline</i>
                        <span class="comment-text">Comment</span>
                        <span class="comment-count">7</span>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- Comments Section -->
                <div class="comments-section" style="display: none;">
                  <div class="comments-list">
                    <div class="comment-item">
                      <div class="row no-gap">
                        <div class="col s2">
                          <img src="https://www.beercss.com/favicon.png" class="circle extra-small">
                        </div>
                        <div class="col s10">
                          <strong>Commenter</strong>
                          <p>Great post! Thanks for sharing.</p>
                          <small class="text-grey">1 hour ago</small>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Add Comment Form -->
                  <div class="add-comment">
                    <div class="row no-gap">
                      <div class="col s2">
                        <img src="https://www.beercss.com/favicon.png" class="circle extra-small">
                      </div>
                      <div class="col s10">
                        <form hx-post="/api/comments/1" hx-target=".comments-list" hx-swap="beforeend">
                          <div class="input-field">
                            <input type="text" name="comment" class="comment-input" placeholder="Write a comment..." required>
                            <button type="submit" class="btn small">Post</button>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Post Card 5 -->
              <div class="card medium">
                <div class="card-header">
                  <div class="row no-gap">
                    <div class="col s2">
                      <img src="https://www.beercss.com/favicon.png" class="circle small">
                    </div>
                    <div class="col s8">
                      <h6>Mike D.</h6>
                      <small class="text-grey">2 days ago</small>
                    </div>
                    <div class="col s2 right-align">
                      <button data-ui="#post-menu-barter-5" class="circle transparent small">
                        <i>more_vert</i>
                      </button>
                      <menu id="post-menu-barter-5">
                        <li><a href="#" onclick="openReportDialog('post', 'barter-5'); return false;">Report</a></li>
                      </menu>
                    </div>
                  </div>
                </div>
                <div class="card-content center-align">
                  <img src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=300&fit=crop" class="responsive round medium-height">
                  <p>WANTED: Looking for a bicycle for my 10-year-old daughter. Size 20" wheels. Will pay cash or trade for my old mountain bike (adult size). 🚲</p>
                </div>
                <div class="card-footer">
                  <div class="row no-gap">
                    <div class="col s6">
                      <div class="clickable-container" 
                           onclick="toggleLike(this)">
                        <i class="material-icons">favorite_border</i>
                        <span class="like-text">Like</span>
                        <span class="like-count">12</span>
                      </div>
                    </div>
                    <div class="col s6">
                      <div class="clickable-container" 
                           onclick="toggleComments(this)">
                        <i class="material-icons">chat_bubble_outline</i>
                        <span class="comment-text">Comment</span>
                        <span class="comment-count">4</span>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- Comments Section -->
                <div class="comments-section" style="display: none;">
                  <div class="comments-list">
                    <div class="comment-item">
                      <div class="row no-gap">
                        <div class="col s2">
                          <img src="https://www.beercss.com/favicon.png" class="circle extra-small">
                        </div>
                        <div class="col s10">
                          <strong>Commenter</strong>
                          <p>Great post! Thanks for sharing.</p>
                          <small class="text-grey">1 hour ago</small>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Add Comment Form -->
                  <div class="add-comment">
                    <div class="row no-gap">
                      <div class="col s2">
                        <img src="https://www.beercss.com/favicon.png" class="circle extra-small">
                      </div>
                      <div class="col s10">
                        <form hx-post="/api/comments/1" hx-target=".comments-list" hx-swap="beforeend">
                          <div class="input-field">
                            <input type="text" name="comment" class="comment-input" placeholder="Write a comment..." required>
                            <button type="submit" class="btn small">Post</button>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Post Card 6 -->
              <div class="card medium">
                <div class="card-header">
                  <div class="row no-gap">
                    <div class="col s2">
                      <img src="https://www.beercss.com/favicon.png" class="circle small">
                    </div>
                    <div class="col s8">
                      <h6>Jennifer R.</h6>
                      <small class="text-grey">3 days ago</small>
                    </div>
                    <div class="col s2 right-align">
                      <button data-ui="#post-menu-barter-6" class="circle transparent small">
                        <i>more_vert</i>
                      </button>
                      <menu id="post-menu-barter-6">
                        <li><a href="#" onclick="openReportDialog('post', 'barter-6'); return false;">Report</a></li>
                      </menu>
                    </div>
                  </div>
                </div>
                <div class="card-content center-align">
                  <p>FOR SALE: Set of 4 dining chairs, excellent condition. $80 for all or $25 each. Also willing to trade for houseplants or garden supplies. 🪑</p>
                </div>
                <div class="card-footer">
                  <div class="row no-gap">
                    <div class="col s6">
                      <div class="clickable-container" 
                           onclick="toggleLike(this)">
                        <i class="material-icons">favorite_border</i>
                        <span class="like-text">Like</span>
                        <span class="like-count">6</span>
                      </div>
                    </div>
                    <div class="col s6">
                      <div class="clickable-container" 
                           onclick="toggleComments(this)">
                        <i class="material-icons">chat_bubble_outline</i>
                        <span class="comment-text">Comment</span>
                        <span class="comment-count">2</span>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- Comments Section -->
                <div class="comments-section" style="display: none;">
                  <div class="comments-list">
                    <div class="comment-item">
                      <div class="row no-gap">
                        <div class="col s2">
                          <img src="https://www.beercss.com/favicon.png" class="circle extra-small">
                        </div>
                        <div class="col s10">
                          <strong>Commenter</strong>
                          <p>Great post! Thanks for sharing.</p>
                          <small class="text-grey">1 hour ago</small>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Add Comment Form -->
                  <div class="add-comment">
                    <div class="row no-gap">
                      <div class="col s2">
                        <img src="https://www.beercss.com/favicon.png" class="circle extra-small">
                      </div>
                      <div class="col s10">
                        <form hx-post="/api/comments/1" hx-target=".comments-list" hx-swap="beforeend">
                          <div class="input-field">
                            <input type="text" name="comment" class="comment-input" placeholder="Write a comment..." required>
                            <button type="submit" class="btn small">Post</button>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Post Card 7 -->
              <div class="card medium">
                <div class="card-header">
                  <div class="row no-gap">
                    <div class="col s2">
                      <img src="https://www.beercss.com/favicon.png" class="circle small">
                    </div>
                    <div class="col s8">
                      <h6>Tom H.</h6>
                      <small class="text-grey">4 days ago</small>
                    </div>
                    <div class="col s2 right-align">
                      <button data-ui="#post-menu-barter-7" class="circle transparent small">
                        <i>more_vert</i>
                      </button>
                      <menu id="post-menu-barter-7">
                        <li><a href="#" onclick="openReportDialog('post', 'barter-7'); return false;">Report</a></li>
                      </menu>
                    </div>
                  </div>
                </div>
                <div class="card-content center-align">
                  <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop" class="responsive round medium-height">
                  <p>BARTER: I have extra firewood from my property. Looking to trade for fresh produce, homemade preserves, or help with yard work. Let's make a deal! 🔥</p>
                </div>
                <div class="card-footer">
                  <div class="row no-gap">
                    <div class="col s6">
                      <div class="clickable-container" 
                           onclick="toggleLike(this)">
                        <i class="material-icons">favorite_border</i>
                        <span class="like-text">Like</span>
                        <span class="like-count">18</span>
                      </div>
                    </div>
                    <div class="col s6">
                      <div class="clickable-container" 
                           onclick="toggleComments(this)">
                        <i class="material-icons">chat_bubble_outline</i>
                        <span class="comment-text">Comment</span>
                        <span class="comment-count">5</span>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- Comments Section -->
                <div class="comments-section" style="display: none;">
                  <div class="comments-list">
                    <div class="comment-item">
                      <div class="row no-gap">
                        <div class="col s2">
                          <img src="https://www.beercss.com/favicon.png" class="circle extra-small">
                        </div>
                        <div class="col s10">
                          <strong>Commenter</strong>
                          <p>Great post! Thanks for sharing.</p>
                          <small class="text-grey">1 hour ago</small>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Add Comment Form -->
                  <div class="add-comment">
                    <div class="row no-gap">
                      <div class="col s2">
                        <img src="https://www.beercss.com/favicon.png" class="circle extra-small">
                      </div>
                      <div class="col s10">
                        <form hx-post="/api/comments/1" hx-target=".comments-list" hx-swap="beforeend">
                          <div class="input-field">
                            <input type="text" name="comment" class="comment-input" placeholder="Write a comment..." required>
                            <button type="submit" class="btn small">Post</button>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Post Card 8 -->
              <div class="card medium">
                <div class="card-header">
                  <div class="row no-gap">
                    <div class="col s2">
                      <img src="https://www.beercss.com/favicon.png" class="circle small">
                    </div>
                    <div class="col s8">
                      <h6>Lisa M.</h6>
                      <small class="text-grey">5 days ago</small>
                    </div>
                    <div class="col s2 right-align">
                      <button data-ui="#post-menu-barter-8" class="circle transparent small">
                        <i>more_vert</i>
                      </button>
                      <menu id="post-menu-barter-8">
                        <li><a href="#" onclick="openReportDialog('post', 'barter-8'); return false;">Report</a></li>
                      </menu>
                    </div>
                  </div>
                </div>
                <div class="card-content center-align">
                  <p>FOR SALE: Baby items - stroller, high chair, and toys. All in good condition. $100 for everything or make an offer. Perfect for new parents! 👶</p>
                </div>
                <div class="card-footer">
                  <div class="row no-gap">
                    <div class="col s6">
                      <div class="clickable-container" 
                           onclick="toggleLike(this)">
                        <i class="material-icons">favorite_border</i>
                        <span class="like-text">Like</span>
                        <span class="like-count">24</span>
                      </div>
                    </div>
                    <div class="col s6">
                      <div class="clickable-container" 
                           onclick="toggleComments(this)">
                        <i class="material-icons">chat_bubble_outline</i>
                        <span class="comment-text">Comment</span>
                        <span class="comment-count">9</span>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- Comments Section -->
                <div class="comments-section" style="display: none;">
                  <div class="comments-list">
                    <div class="comment-item">
                      <div class="row no-gap">
                        <div class="col s2">
                          <img src="https://www.beercss.com/favicon.png" class="circle extra-small">
                        </div>
                        <div class="col s10">
                          <strong>Commenter</strong>
                          <p>Great post! Thanks for sharing.</p>
                          <small class="text-grey">1 hour ago</small>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Add Comment Form -->
                  <div class="add-comment">
                    <div class="row no-gap">
                      <div class="col s2">
                        <img src="https://www.beercss.com/favicon.png" class="circle extra-small">
                      </div>
                      <div class="col s10">
                        <form hx-post="/api/comments/1" hx-target=".comments-list" hx-swap="beforeend">
                          <div class="input-field">
                            <input type="text" name="comment" class="comment-input" placeholder="Write a comment..." required>
                            <button type="submit" class="btn small">Post</button>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Post Card 9 -->
              <div class="card medium">
                <div class="card-header">
                  <div class="row no-gap">
                    <div class="col s2">
                      <img src="https://www.beercss.com/favicon.png" class="circle small">
                    </div>
                    <div class="col s8">
                      <h6>David P.</h6>
                      <small class="text-grey">1 week ago</small>
                    </div>
                    <div class="col s2 right-align">
                      <button data-ui="#post-menu-barter-9" class="circle transparent small">
                        <i>more_vert</i>
                      </button>
                      <menu id="post-menu-barter-9">
                        <li><a href="#" onclick="openReportDialog('post', 'barter-9'); return false;">Report</a></li>
                      </menu>
                    </div>
                  </div>
                </div>
                <div class="card-content center-align">
                  <img src="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=400&h=300&fit=crop" class="responsive round medium-height">
                  <p>TRADE: I have a working lawn mower that needs a new home. Looking to trade for garden tools, plants, or help with a small home repair project. 🌱</p>
                </div>
                <div class="card-footer">
                  <div class="row no-gap">
                    <div class="col s6">
                      <div class="clickable-container" 
                           onclick="toggleLike(this)">
                        <i class="material-icons">favorite_border</i>
                        <span class="like-text">Like</span>
                        <span class="like-count">11</span>
                      </div>
                    </div>
                    <div class="col s6">
                      <div class="clickable-container" 
                           onclick="toggleComments(this)">
                        <i class="material-icons">chat_bubble_outline</i>
                        <span class="comment-text">Comment</span>
                        <span class="comment-count">3</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>

          <!-- Categories Sidebar Column (1/3 on desktop) -->
          <div class="col s12 m4 l4">
            <div class="categories-sidebar" id="categoriesSidebar">
              <h5>Categories</h5>
              
              <!-- Local Section -->
              <div class="section-header">
                <h6>Local</h6>
              </div>

              <a href="local-discussions.html" class="category-item">
                <h6>Discussions</h6>
                <p>General community conversations and local topics</p>
              </a>

              <a href="local-groups.html" class="category-item">
                <h6>Groups</h6>
                <p>Community groups, clubs, and organizations</p>
              </a>

              <a href="used-barter.html" class="category-item">
                <h6>Used/Barter</h6>
                <p>Buy, sell, trade, and barter items locally</p>
              </a>

              <!-- General Section -->
              <div class="section-header">
                <h6>General</h6>
              </div>

              <a href="food-farm-news.html" class="category-item">
                <h6>Food & Farm News</h6>
                <p>Local food, farming, and agricultural updates</p>
              </a>

              <a href="tips-resources.html" class="category-item">
                <h6>Tips & Resources</h6>
                <p>Helpful tips, guides, and local resources</p>
              </a>
            </div>
          </div>
        </div>
      </div>
    </main>
    <script>
      // Mobile menu toggle functionality
      function toggleMobileMenu() {
        const overlay = document.getElementById('mobileCategoriesOverlay');
        overlay.classList.toggle('active');
      }

      // Categories are now embedded directly in HTML - no need for htmx loading

      // Close mobile menu when clicking outside
      document.addEventListener('click', function(e) {
        const overlay = document.getElementById('mobileCategoriesOverlay');
        const menuBtn = document.querySelector('.mobile-menu-btn');
        
        if (overlay.classList.contains('active') && 
            !overlay.contains(e.target) && 
            !menuBtn.contains(e.target)) {
          overlay.classList.remove('active');
        }
      });

      // Close mobile menu when selecting a category
      document.addEventListener('click', function(e) {
        if (e.target.closest('.category-item')) {
          const overlay = document.getElementById('mobileCategoriesOverlay');
          overlay.classList.remove('active');
        }
      });

      // Toggle comments dropdown
      function toggleComments(button) {
        const card = button.closest('.card');
        const commentsSection = card.querySelector('.comments-section');
        
        if (commentsSection.style.display === 'none') {
          commentsSection.style.display = 'block';
        } else {
          commentsSection.style.display = 'none';
        }
      }

      // Toggle like button
      function toggleLike(button) {
        const heartIcon = button.querySelector('.material-icons');
        const likeCountSpan = button.querySelector('.like-count');
        const currentCount = parseInt(likeCountSpan.textContent);
        
        if (heartIcon.textContent === 'favorite_border') {
          // Like the post
          heartIcon.textContent = 'favorite';
          button.classList.add('liked');
          likeCountSpan.textContent = currentCount + 1;
        } else {
          // Unlike the post
          heartIcon.textContent = 'favorite_border';
          button.classList.remove('liked');
          likeCountSpan.textContent = currentCount - 1;
        }
      }
    </script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/beercss@3.12.13/dist/cdn/beer.min.js"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/material-dynamic-colors@1.1.2/dist/cdn/material-dynamic-colors.min.js"></script>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <script>
      let currentReportType = '';
      let currentReportId = '';
      function openReportDialog(type, id) {
        currentReportType = type;
        currentReportId = id;
        const dialog = document.getElementById('report-dialog');
        const title = document.getElementById('report-dialog-title');
        const titles = {
          'product': 'Report Product',
          'post': 'Report Post',
          'vendor': 'Report Vendor',
          'user': 'Report User'
        };
        title.textContent = titles[type] || 'Report';
        document.getElementById('report-form').reset();
        document.getElementById('explain-field-container').style.display = 'none';
        document.getElementById('other-field-container').style.display = 'none';
        ui('#report-dialog');
      }
      function handleReasonChange() {
        const reason = document.getElementById('report-reason').value;
        const explainContainer = document.getElementById('explain-field-container');
        const otherContainer = document.getElementById('other-field-container');
        explainContainer.style.display = 'none';
        otherContainer.style.display = 'none';
        if (reason === 'inappropriate-content' || reason === 'inappropriate-product') {
          explainContainer.style.display = 'block';
        } else if (reason === 'other') {
          otherContainer.style.display = 'block';
        }
      }
      function submitReport(event) {
        event.preventDefault();
        const reason = document.getElementById('report-reason').value;
        const description = document.getElementById('report-description').value;
        const explain = document.getElementById('report-explain').value;
        const other = document.getElementById('report-other').value;
        let fullDescription = description;
        if (explain) {
          fullDescription = `Explain: ${explain}\n\nDescription: ${description}`;
        }
        if (other) {
          fullDescription = `Other: ${other}\n\nDescription: ${description}`;
        }
        const reportData = {
          type: currentReportType,
          id: currentReportId,
          reason: reason,
          desc: fullDescription,
          userid: 'current-user'
        };
        console.log('Submitting report:', reportData);
        setTimeout(() => {
          ui('#report-dialog');
          const snackbar = document.getElementById('report-snackbar');
          snackbar.classList.add('active');
          setTimeout(() => {
            snackbar.classList.remove('active');
          }, 4000);
        }, 500);
      }
    </script>
    <dialog id="report-dialog" class="modal medium">
      <button data-ui="#report-dialog" class="circle transparent" style="position: absolute; right: 1rem; top: 1rem; z-index: 10;">
        <i>close</i>
      </button>
      <div class="padding-medium">
        <h4 id="report-dialog-title">Report</h4>
        <form id="report-form" onsubmit="submitReport(event); return false;">
          <div class="margin-vertical-medium">
            <div class="field label border">
              <select id="report-reason" required onchange="handleReasonChange()">
                <option value="">Select a reason</option>
                <option value="inappropriate-content">Inappropriate Content</option>
                <option value="inappropriate-product">Inappropriate product</option>
                <option value="wholesaling">Wholesaling</option>
                <option value="scam-fraud-spam">Scam, Fraud, or Spam</option>
                <option value="misleading-information">Misleading Information</option>
                <option value="harassment">Harassment</option>
                <option value="other">Other</option>
              </select>
              <label>Reason for reporting</label>
            </div>
          </div>
          <div id="explain-field-container" class="margin-vertical-medium" style="display: none;">
            <div class="field label border">
              <input type="text" id="report-explain" placeholder=" ">
              <label>Explain</label>
            </div>
          </div>
          <div id="other-field-container" class="margin-vertical-medium" style="display: none;">
            <div class="field label border">
              <input type="text" id="report-other" placeholder=" ">
              <label>Please specify</label>
            </div>
          </div>
          <div class="margin-vertical-medium">
            <div class="field textarea label border">
              <textarea id="report-description" required></textarea>
              <label>Description</label>
            </div>
          </div>
          <nav class="margin-top-large">
            <button type="button" data-ui="#report-dialog" class="btn">Cancel</button>
            <button type="submit" class="btn primary">Submit Report</button>
          </nav>
        </form>
      </div>
    </dialog>
    <div id="report-snackbar" class="snackbar">
      <i>check_circle</i>
      <span>Your report has been submitted</span>
    </div>
  </body>
</html>
